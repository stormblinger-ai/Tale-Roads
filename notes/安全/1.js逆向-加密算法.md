1，常见加密算法

MD5加密：一旦看到一个长度为32位的密文数据，该数据极有可能通过MD5算法进行的加密！

常规讲MD5不存在解密的，但理论上是可以进行方向暴力破解的。

MD5通常在密码加密时使用

DES/AES加密（可逆）：

数据加密标准，是一种使用**密钥**加密的算法。

该加密算法是一种对称加密方式，其加密和解密运算需要使用同样的密钥，（一组字符串）即可

注意：

-现在用AES替代原先的DES

-加密后密文产固定不同

DES加密后密文长度是8的整数倍

AES加密后密文长度是16的整数倍

-应用场景

-企业级开发使用DES足够安全

-要求高使用AES

-DES 和AES切换只需要修改CryptoJS.AES<=>CryptoJS.DES

-使用DES/AES进行数据交互式要双方都拥有相同的私钥

破解方法：

-暴力破解

-DES如果使用56位的密钥，则可能的密钥数量是2的56次方个。只要计算足够强大是可以被破解的

 

DES算法的入口参数有三个：

https://cdn.bootcss.com/crypto-js/3.1.9-1/crypto-js.js

定制密钥

加密对象

使用CryptoJS.DES.encrypt()对对象加密

解密用decrypt,看到这个就是用对称加密的，

AES/DES 

Xxkey：密钥一般都是单独生成的，不是明文的

 

RSA加密（可逆）

-RSA是一种非对称加密，广泛被电商行业使用

-非对称加密算法需要两个密钥：

-公钥加密

-私钥解密

-公钥与私钥是一对的，如果用公钥对数据进行加密，只有用对应的私钥才能解密。因为加密和解密使用的是两个不同的密钥，所以叫非对称加密算法

三步：

实例化加密对象

设置公钥

对指定数据进行加密

关键字：

-RSA

-setPublicKey

-setPrivateKey

-encrypt，decrypt

\-----------

重点是区分加密算法是对称的还是非对称的

-对称密钥加密，使用一个密钥加密和解密

-非对称：公钥加密，私钥解密

市面上算法很多，主要以上面两大门派为主

-base64加密

用64个字符表示任意二进制数据的方法，base64是一种编码方式而不是加密算法，只是看上去像是加密而已

\---------

对称密钥加密，

关键字：AES。DES，xxkey，encrypt，decrypt

核心点：加密和解密环节必须使用同一个密钥，密钥获取极为关键

 

非对称密钥加密：

关键字：RSA，setPublicKey，setPrivateKey，encrypt，decrypt

核心：加密使用公钥，解密使用私钥，因此公钥和私钥的获取极为重要

 

线性散列算法：

关键字：MD5

核心点：加密后不可逆

 

pip install PyExecJS

安装node.js10.16

 

PyExecJS是一个可以使用Python来模拟Javascript的库

使用Python程序调用执行js代码，获取js代码返回的结果

使用：

\```

\#导包

Import execjs

\# 创建node对象

Node = execjs.get()

\# 编译js文件返回上下文对象

Fp = open('test.js','r',encoding'utf-8')

Ctx = node.compile(fp,read())

\#使用上下文对象ctx调用eval函数，执行js文件指定函数即可

Result = ctx.eval('getpwd('123456')')

Print(result)

\```

案例：微信公众平台

-URL：https://mp.weixin.qq.com

-分析思路：

1，先通过抓包工具发现，密码是经过加密的，加密后的数据是32位，大概率是MD5加密的,

2，发现加密后的数据是被pwd这个请求参数使用的

3，需要使用全局搜索pwd,定位加密的环节在哪里

-开发者工具中三个点选search

-重点关注js结尾的文件

点击数据包文件，和下面代码，点击代码左下角大括号可以格式化代码

-格式化后的代码中查找目标对象关键字pwd

用局部搜索即ctrl + F 

-在可疑的位置上打个断点

断点：在一个位置打了断点后，当刷新请求后，则程序执行会停留在打断点的位置

可疑：如果某些位置出现了加密和解密算法中的关键字，则很可疑，有赋值操作

4，在断点上点击某个变量会出现值

放在函数上，再点击提示的函数对象，可以进到函数里面，看函数代码实现

5，使用js改写工具对函数的实现进行改写

发条JS调试工具1.9

-改写工具的功能介绍

格式化按钮：可视化对齐显示

加载按钮：检测介绍代码是否存在语法错误

计算表达式按钮：可以直接调用计算按钮左侧框中对应的函数调用

计算表达式报错（函数调用报错），一般都是没有满足函数调用的上下文机制导致，可能在该函数中调用量其他函数，需要把调用关系都全部包含才不会报错

找定位函数最近的大括号或封号

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 